{"openapi":"3.1.0","info":{"title":"Mission Service API","description":"API documentation for the Mission Service","version":"1.0.0"},"servers":[{"url":"http://localhost:9000","description":"API Gateway"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"Mission Log Management","description":"APIs for managing mission logs"},{"name":"Mission Management","description":"APIs for managing missions"},{"name":"Assigned Asset Management","description":"APIs for managing assigned assets to missions"},{"name":"Assigned Mission Management","description":"APIs for managing assigned missions to users"}],"paths":{"/api/missions/{id}":{"get":{"tags":["Mission Management"],"summary":"Get a mission by ID","operationId":"getMissionById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MissionResponse"}}}}}},"put":{"tags":["Mission Management"],"summary":"Update an existing mission","operationId":"updateMission","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MissionRequest"}}},"required":true},"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MissionResponse"}}}}}},"delete":{"tags":["Mission Management"],"summary":"Delete a mission by ID","operationId":"deleteMission","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"204":{"description":"No Content"}}}},"/api/missions":{"get":{"tags":["Mission Management"],"summary":"Get all missions","operationId":"getAllMissions","responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MissionResponse"}}}}}}},"post":{"tags":["Mission Management"],"summary":"Create a new mission","operationId":"createMission","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MissionRequest"}}},"required":true},"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MissionResponse"}}}}}}},"/api/missions/{missionId}/logs":{"get":{"tags":["Mission Log Management"],"summary":"Get all mission logs for a specific mission, sorted by timestamp descending","operationId":"getMissionLogsForMission","parameters":[{"name":"missionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MissionLogResponse"}}}}}}},"post":{"tags":["Mission Log Management"],"summary":"Create a new mission log for a specific mission","operationId":"createMissionLog","parameters":[{"name":"missionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MissionLogRequest"}}},"required":true},"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MissionLogResponse"}}}}}}},"/api/missions/assigned-missions":{"get":{"tags":["Assigned Mission Management"],"summary":"Get all missions assigned to the user making the request","operationId":"getAllAssignedMissions","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MissionResponse"}}}}}}},"post":{"tags":["Assigned Mission Management"],"summary":"Assign a mission to a user","operationId":"assignMissionToUser","parameters":[{"name":"missionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"204":{"description":"No Content"}}},"delete":{"tags":["Assigned Mission Management"],"summary":"Unassign a mission from a user","operationId":"unassignMissionFromUser","parameters":[{"name":"missionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"204":{"description":"No Content"}}}},"/api/missions/assigned-assets":{"post":{"tags":["Assigned Asset Management"],"summary":"Assign an asset to a mission","operationId":"assignAssetToMission","parameters":[{"name":"assetId","in":"query","required":true,"schema":{"type":"string"}},{"name":"missionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"201":{"description":"Created"}}},"delete":{"tags":["Assigned Asset Management"],"summary":"Unassign an asset from a mission","operationId":"unassignAssetFromMission","parameters":[{"name":"assetId","in":"query","required":true,"schema":{"type":"string"}},{"name":"missionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"204":{"description":"No Content"}}}},"/api/missions/assigned-missions/users/{missionId}":{"get":{"tags":["Assigned Mission Management"],"summary":"Get all users assigned to a specific mission","operationId":"getUsersAssignedToMission","parameters":[{"name":"missionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}}},"/api/missions/assigned-missions/missions/{userId}":{"get":{"tags":["Assigned Mission Management"],"summary":"Get all missions assigned to a specific user","operationId":"getMissionsAssignedToUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MissionResponse"}}}}}}}},"/api/missions/assigned-assets/missions/{assetId}":{"get":{"tags":["Assigned Asset Management"],"summary":"Get all missions assigned to a specific asset","operationId":"getAssignedMissionsByAssetId","parameters":[{"name":"assetId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MissionResponse"}}}}}}}},"/api/missions/assigned-assets/assets/{missionId}":{"get":{"tags":["Assigned Asset Management"],"summary":"Get all assets assigned to a specific mission","operationId":"getAssignedAssetsByMissionId","parameters":[{"name":"missionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AssetResponse"}}}}}}}},"/api/missions/{missionId}/logs/{logId}":{"delete":{"tags":["Mission Log Management"],"summary":"Delete a specific mission log by its ID","operationId":"deleteMissionLog","parameters":[{"name":"logId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"missionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"204":{"description":"No Content"}}}}},"components":{"schemas":{"MissionRequest":{"type":"object","properties":{"name":{"type":"string","minLength":1},"description":{"type":"string"},"priority":{"type":"integer","format":"int32","maximum":5,"minimum":1},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"status":{"type":"string","enum":["PENDING","IN_PROGRESS","COMPLETED","CANCELLED"]}},"required":["name","priority","startDate","status"]},"ErrorResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"data":{},"timestamp":{"type":"string"}}},"MissionResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"priority":{"type":"integer","format":"int32"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"status":{"type":"string"},"createdBy":{"$ref":"#/components/schemas/User"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"enabled":{"type":"boolean"},"createdTimestamp":{"type":"integer","format":"int64"},"roles":{"type":"array","items":{"type":"string"}}}},"MissionLogRequest":{"type":"object","properties":{"entry":{"type":"string","minLength":1}},"required":["entry"]},"MissionLogResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"missionId":{"type":"integer","format":"int64"},"createdBy":{"$ref":"#/components/schemas/User"},"entry":{"type":"string"},"timestamp":{"type":"string","format":"date-time"}}},"AssetResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"type":{"type":"string","enum":["SHIP","SUBMARINE","AIRCRAFT","DRONE","GROUND_VEHICLE"]},"status":{"type":"string","enum":["ACTIVE","MAINTENANCE","INACTIVE"]},"longitude":{"type":"number","format":"double"},"latitude":{"type":"number","format":"double"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}