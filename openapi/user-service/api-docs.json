{"openapi":"3.1.0","info":{"title":"User Service API","description":"API documentation for the User Service","version":"1.0.0"},"servers":[{"url":"http://localhost:9000","description":"API Gateway"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"User Management","description":"APIs for managing users"}],"paths":{"/api/users":{"get":{"tags":["User Management"],"summary":"Get all users","operationId":"getAllUsers","responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}}},"/api/users/{id}":{"get":{"tags":["User Management"],"summary":"Get a user by ID","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/users/ids":{"get":{"tags":["User Management"],"summary":"Get users by a list of IDs","operationId":"getUsersByIds","parameters":[{"name":"ids","in":"query","required":true,"schema":{"type":"string"}},{"name":"allowEmpty","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}}},"/api/users/count":{"get":{"tags":["User Management"],"summary":"Get count of all users","operationId":"getUserCount","responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}}}}},"/api/users/auth":{"get":{"tags":["User Management"],"summary":"Get the authenticated user based on X-User-Id header","operationId":"getAuthUser","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse","contentMediaType":"application/json"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"data":{},"timestamp":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"enabled":{"type":"boolean"},"createdTimestamp":{"type":"integer","format":"int64"},"roles":{"type":"array","items":{"type":"string"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}